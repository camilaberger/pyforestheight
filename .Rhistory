function(x) {
terra::crop(
x,
terra::vect(
paraguay_sf
),
snap = "in",
mask = T
)
}
)
View(forest_height_rasters)
forest_height_rasters
View(raster)
raster_files <- raster("C:/R/height_paraguay/heightpy/cerrosanjose_recortado.tif")
raster_files <-
list.files(
path = getwd(),
pattern = "ETH",
full.names = T
)
get_country_borders <- function(){
main_path <- getwd()
country_borders <- geodata::gadm(
country = "PRY",
level = 1,
path = main_path
) |>
sf::st_as_sf()
return(country_borders)
}
country_borders <- get_country_borders()
unique(
country_borders$NAME_1
)
paraguay_sf <- country_borders |>
dplyr::filter(
!NAME_1 %in% c(
"Paraguarí"
)
) |>
sf::st_union()
plot(sf::st_geometry(paraguay_sf))
forest_height_list <- lapply(
raster_files,
terra::rast
)
forest_height_rasters <- lapply(
forest_height_list,
function(x) {
terra::crop(
x,
terra::vect(
paraguay_sf
),
snap = "in",
mask = T
)
}
)
libs <- c(
"tidyverse", "sf", "geodata",
"terra", "classInt", "rayshader", "raster"
)
gc()
gc()
libs <- c(
"tidyverse", "sf", "geodata",
"terra", "classInt", "rayshader", "raster"
)
installed_libs <- libs %in% rownames(
installed.packages()
)
if (any(installed_libs == F)) {
install.packages(
libs[!installed_libs]
)
}
invisible(lapply(
libs,
library,
character.only = T
))
raster_files <- raster("C:/R/height_paraguay/heightpy/cerrosanjose_recortado.tif")
raster_files <-
list.files(
path = getwd(),
pattern = "ETH",
full.names = T
)
raster_files <- raster("C:/R/height_paraguay/heightpy/cerrosanjose_recortado.tif")
raster_files <-
list.files(
path = getwd(),
pattern = "ETH",
full.names = T
)
raster_files <- raster("C:/R/height_paraguay/heightpy/cerrosanjose_recortado.tif")
raster_file <- raster("C:/R/height_paraguay/heightpy/cerrosanjose_recortado.tif")
libs <- c(
"tidyverse", "sf", "geodata",
"terra", "classInt", "rayshader", "raster"
)
installed_libs <- libs %in% rownames(
installed.packages()
)
if (any(installed_libs == F)) {
install.packages(
libs[!installed_libs]
)
}
invisible(lapply(
libs,
library,
character.only = T
))
raster_file <- raster("C:/R/height_paraguay/heightpy/cerrosanjose_recortado.tif")
get_country_borders <- function(){
main_path <- getwd()
country_borders <- geodata::gadm(
country = "PRY",
level = 1,
path = main_path
) |>
sf::st_as_sf()
return(country_borders)
}
country_borders <- get_country_borders()
unique(
country_borders$NAME_1
)
paraguay_sf <- country_borders |>
dplyr::filter(
!NAME_1 %in% c(
"Paraguarí"
)
) |>
sf::st_union()
plot(sf::st_geometry(paraguay_sf))
forest_height_list <- lapply(
raster_files,
terra::rast
)
forest_height_rasters <- lapply(
forest_height_list,
function(x) {
terra::crop(
x,
terra::vect(
paraguay_sf
),
snap = "in",
mask = T
)
}
)
libs <- c(
"tidyverse", "sf", "geodata",
"terra", "classInt", "rayshader", "raster"
)
installed_libs <- libs %in% rownames(
installed.packages()
)
if (any(installed_libs == F)) {
install.packages(
libs[!installed_libs]
)
}
invisible(lapply(
libs,
library,
character.only = T
))
raster_file <- raster("C:/R/height_paraguay/heightpy/cerrosanjose_recortado.tif")
get_country_borders <- function(){
main_path <- getwd()
country_borders <- geodata::gadm(
country = "PRY",
level = 1,
path = main_path
) |>
sf::st_as_sf()
return(country_borders)
}
country_borders <- get_country_borders()
unique(
country_borders$NAME_1
)
paraguay_sf <- country_borders |>
dplyr::filter(
!NAME_1 %in% c(
"Paraguarí"
)
) |>
sf::st_union()
plot(sf::st_geometry(paraguay_sf))
forest_height_list <- lapply(
raster_file,
terra::rast
)
libs <- c(
"tidyverse", "sf", "geodata",
"terra", "classInt", "rayshader", "raster"
)
installed_libs <- libs %in% rownames(
installed.packages()
)
if (any(installed_libs == F)) {
install.packages(
libs[!installed_libs]
)
}
invisible(lapply(
libs,
library,
character.only = T
))
raster_file <- raster("C:/R/height_paraguay/heightpy/cerrosanjose_recortado.tif")
get_country_borders <- function(){
main_path <- raster("C:/R/height_paraguay/heightpy/cerrosanjose_recortado.tif")
country_borders <- geodata::gadm(
country = "PRY",
level = 1,
path = main_path
) |>
sf::st_as_sf()
return(country_borders)
}
country_borders <- get_country_borders()
libs <- c(
"tidyverse", "sf", "geodata",
"terra", "classInt", "rayshader", "raster"
)
installed_libs <- libs %in% rownames(
installed.packages()
)
if (any(installed_libs == F)) {
install.packages(
libs[!installed_libs]
)
}
invisible(lapply(
libs,
library,
character.only = T
))
raster_file <- raster("C:/R/height_paraguay/heightpy/cerrosanjose_recortado.tif")
country_borders <- get_country_borders()
plot(sf::st_geometry(paraguay_sf))
forest_height_list <- lapply(
raster_file,
terra::rast
)
libs <- c(
"tidyverse", "sf", "geodata",
"terra", "classInt", "rayshader", "raster"
)
installed_libs <- libs %in% rownames(
installed.packages()
)
if (any(installed_libs == F)) {
install.packages(
libs[!installed_libs]
)
}
invisible(lapply(
libs,
library,
character.only = T
))
raster_files <-
list.files(
path = raster("C:/R/height_paraguay/heightpy/cerrosanjose_recortado.tif"),
pattern = "ETH",
full.names = T)
libs <- c(
"tidyverse", "sf", "geodata",
"terra", "classInt", "rayshader", "raster"
)
installed_libs <- libs %in% rownames(
installed.packages()
)
if (any(installed_libs == F)) {
install.packages(
libs[!installed_libs]
)
}
invisible(lapply(
libs,
library,
character.only = T
))
raster_file <- raster("C:/R/height_paraguay/heightpy/cerrosanjose_recortado.tif")
raster_file <- raster("C:/R/height_paraguay/heightpy/ETH_GlobalCanopyHeight_10m_2020_S27W057_Map.tif")
raster_files <-
list.files(
path = getwd(),
pattern = "ETH",
full.names = T)
get_country_borders <- function(){
country_borders <- geodata::gadm(
country = "PRY",
level = 1,
path = main_path
) |>
sf::st_as_sf()
return(country_borders#}
country_borders <- get_country_borders()
get_country_borders <- function(){
country_borders <- geodata::gadm(
country = "PRY",
level = 1,
path = main_path
) |>
sf::st_as_sf()
return(country_borders}
libs <- c(
"tidyverse", "sf", "geodata",
"terra", "classInt", "rayshader", "raster"
)
installed_libs <- libs %in% rownames(
installed.packages()
)
if (any(installed_libs == F)) {
install.packages(
libs[!installed_libs]
)
}
invisible(lapply(
libs,
library,
character.only = T
))
raster_file <- raster("C:/R/height_paraguay/heightpy/ETH_GlobalCanopyHeight_10m_2020_S27W057_Map.tif")
raster_files <-
list.files(
path = getwd(),
pattern = "ETH",
full.names = T)
get_country_borders <- function(){
main_path <- getwd()
country_borders <- geodata::gadm(
country = "PRY",
level = 1,
path = main_path
) |>
sf::st_as_sf()
return(country_borders)}
country_borders <- get_country_borders()
unique(
country_borders$NAME_1)
paraguay_sf <- country_borders |>
dplyr::filter(
!NAME_1 %in% c(
"Paraguarí")
) |>
sf::st_union()
plot(sf::st_geometry(paraguay_sf))
View(raster_file)
forest_height_list <- lapply(
raster_file,
terra::rast
)
libs <- c(
"tidyverse", "sf", "geodata",
"terra", "classInt", "rayshader", "raster"
)
installed_libs <- libs %in% rownames(
installed.packages()
)
if (any(installed_libs == F)) {
install.packages(
libs[!installed_libs]
)
}
invisible(lapply(
libs,
library,
character.only = T
))
raster_files <-
list.files(
path = getwd(),
pattern = "ETH",
full.names = T)
get_country_borders <- function(){
main_path <- getwd()
country_borders <- geodata::gadm(
country = "PRY",
level = 1,
path = main_path
) |>
sf::st_as_sf()
return(country_borders)}
country_borders <- get_country_borders()
unique(
country_borders$NAME_1)
paraguay_sf <- country_borders |>
dplyr::filter(
!NAME_1 %in% c(
"Paraguarí")
) |>
sf::st_union()
plot(sf::st_geometry(paraguay_sf))
forest_height_list <- lapply(
raster_file,
terra::rast
)
forest_height_list <- lapply(
raster_files,
terra::rast
)
libs <- c(
"tidyverse", "sf", "geodata",
"terra", "classInt", "rayshader", "raster"
)
installed_libs <- libs %in% rownames(
installed.packages()
)
if (any(installed_libs == F)) {
install.packages(
libs[!installed_libs]
)
}
invisible(lapply(
libs,
library,
character.only = T
))
raster_files <-
list.files(
path = getwd(),
pattern = "ETH",
full.names = T)
get_country_borders <- function(){
main_path <- getwd()
country_borders <- geodata::gadm(
country = "PRY",
level = 1,
path = main_path
) |>
sf::st_as_sf()
return(country_borders)}
country_borders <- get_country_borders()
unique(
country_borders$NAME_1)
paraguay_sf <- country_borders |>
dplyr::filter(
!NAME_1 %in% c(
"Paraguarí")
) |>
sf::st_union()
plot(sf::st_geometry(paraguay_sf))
forest_height_list <- lapply(
raster_files,
terra::rast
)
forest_height_rasters <- lapply(
forest_height_list,
function(x) {
terra::crop(
x,
terra::vect(
paraguay_sf
),
snap = "in",
mask = T
)
}
)
forest_height_paraguay_df <- forest_height_rasters|>
as.data.frame(
xy = T
)
View(forest_height_paraguay_df)
View(forest_height_paraguay_df)
View(forest_height_paraguay_df)
View(forest_height_paraguay_df)
View(forest_height_rasters)
forest_height_rasters[[1]]
forest_height_rasters <- lapply(
forest_height_list,
function(x) {
terra::crop(
x,
terra::vect(
paraguay_sf
),
snap = "in",
mask = T
)
}
)
forest_height_paraguay <- forest_height_rasters |>
terra::aggregate(
fact = 10
)
forest_height_paraguay_df <- forest_height_paraguay|>
as.data.frame(
xy = T
)
forest_height_paraguay_df <- forest_height_rasters|>
as.data.frame(
xy = T
)
View(forest_height_paraguay_df)
forest_height_paraguay_df <- forest_height_rasters|>
as.data.frame(
xy = T
)
View(forest_height_rasters)
forest_height_rasters[[1]]
